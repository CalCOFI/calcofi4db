[{"path":"https://calcofi.io/calcofi4db/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 CalCOFI contributors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://calcofi.io/calcofi4db/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ben Best. Author, maintainer.","code":""},{"path":"https://calcofi.io/calcofi4db/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Best B (2026). calcofi4db: CalCOFI Database Tools. R package version 1.2.0, https://calcofi.io/calcofi4db.","code":"@Manual{,   title = {calcofi4db: CalCOFI Database Tools},   author = {Ben Best},   year = {2026},   note = {R package version 1.2.0},   url = {https://calcofi.io/calcofi4db}, }"},{"path":"https://calcofi.io/calcofi4db/index.html","id":"calcofi4db","dir":"","previous_headings":"","what":"CalCOFI Database Tools","title":"CalCOFI Database Tools","text":"CalCOFI Database Tools package ingesting managing datasets CalCOFI database using integrated schema-based workflow.","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"CalCOFI Database Tools","text":"package provides functions CalCOFI integrated database ingestion strategy, uses two-schema approach: dev schema: Fresh development schema recreated ingestion run QA/QC prod schema: Versioned production schema stable public access","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"key-features","dir":"","previous_headings":"Overview","what":"Key features:","title":"CalCOFI Database Tools","text":"Reading CSV files Google Drive metadata extraction Creating managing redefinition files tables fields Transforming data according redefinition rules Ingesting multiple datasets fresh database schema Managing database relationships indexes Recording schema versions full provenance","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"CalCOFI Database Tools","text":"","code":"# Install from GitHub remotes::install_github(\"CalCOFI/calcofi4db\")"},{"path":[]},{"path":"https://calcofi.io/calcofi4db/index.html","id":"master-ingestion-workflow","dir":"","previous_headings":"Usage","what":"Master ingestion workflow","title":"CalCOFI Database Tools","text":"primary workflow master ingestion script inst/create_db.qmd recreates dev schema datasets: Drops recreates dev schema Ingests multiple datasets Google Drive Applies transformations via redefinition files Creates relationships (primary/foreign keys, indexes) Records schema version metadata","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"individual-dataset-ingestion","dir":"","previous_headings":"Usage","what":"Individual dataset ingestion","title":"CalCOFI Database Tools","text":"programmatic control, use core functions:","code":"library(calcofi4db) library(DBI) library(RPostgres)  # Connect to database con <- dbConnect(   Postgres(),   dbname = \"gis\",   host = \"localhost\",   port = 5432,   user = \"admin\",   password = \"postgres\" )  # Read CSV files and metadata from Google Drive d <- read_csv_files(   provider = \"swfsc.noaa.gov\",   dataset = \"calcofi-db\" )  # Transform data according to redefinitions transformed_data <- transform_data(d)  # Ingest into dev schema ingest_csv_to_db(   con = con,   schema = \"dev\",   transformed_data = transformed_data,   d_flds_rd = d$d_flds_rd,   d_gdata = d$d_gdata,   workflow_info = d$workflow_info )  # Record schema version record_schema_version(   con = con,   schema = \"dev\",   version = \"1.0.0\",   description = \"Initial ingestion of NOAA CalCOFI Database\",   script_permalink = \"https://github.com/CalCOFI/calcofi4db/blob/main/inst/create_db.qmd\" )  # Disconnect dbDisconnect(con)"},{"path":"https://calcofi.io/calcofi4db/index.html","id":"schema-versioning","dir":"","previous_headings":"","what":"Schema versioning","title":"CalCOFI Database Tools","text":"successful ingestion records version schema_version table : version: Semantic version (e.g., “1.0.0”, “1.1.0”) description: Changes version date_created: Ingestion timestamp script_permalink: GitHub permalink ingestion script Versions archived SQL dumps Google Drive reproducibility.","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"CalCOFI Database Tools","text":"See CalCOFI Database Documentation complete details : Database naming conventions Ingestion workflow architecture Schema versioning strategy Metadata management Publishing data portals","code":""},{"path":"https://calcofi.io/calcofi4db/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"CalCOFI Database Tools","text":"MIT","code":""},{"path":"https://calcofi.io/calcofi4db/reference/add_parquet_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Add metadata to Parquet file — add_parquet_metadata","title":"Add metadata to Parquet file — add_parquet_metadata","text":"Reads Parquet file, adds custom metadata, rewrites .","code":""},{"path":"https://calcofi.io/calcofi4db/reference/add_parquet_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add metadata to Parquet file — add_parquet_metadata","text":"","code":"add_parquet_metadata(path, metadata, output = path)"},{"path":"https://calcofi.io/calcofi4db/reference/add_parquet_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add metadata to Parquet file — add_parquet_metadata","text":"path Path Parquet file metadata Named list metadata key-value pairs output Output path (default: overwrites input file)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/add_parquet_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add metadata to Parquet file — add_parquet_metadata","text":"Path modified Parquet file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/add_parquet_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add metadata to Parquet file — add_parquet_metadata","text":"","code":"if (FALSE) { # \\dontrun{ add_parquet_metadata(   \"parquet/bottle.parquet\",   metadata = list(     source     = \"calcofi.org\",     version    = \"2026.01.31\",     created_by = \"calcofi4db\")) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/calcofi4db-package.html","id":null,"dir":"Reference","previous_headings":"","what":"calcofi4db: CalCOFI Database Tools — calcofi4db-package","title":"calcofi4db: CalCOFI Database Tools — calcofi4db-package","text":"Tools ingesting datasets CalCOFI database functions read source CSV files, detect changes tables fields, update database proper metadata. Includes cloud storage (GCS), Parquet, DuckDB operations modern data workflows.","code":""},{"path":[]},{"path":"https://calcofi.io/calcofi4db/reference/calcofi4db-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"calcofi4db: CalCOFI Database Tools — calcofi4db-package","text":"Maintainer: Ben Best ben@ecoquants.com (ORCID)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Data Integrity for Ingestion — check_data_integrity","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"Validates CSV files match redefinition metadata database ingestion. function designed called Quarto notebooks stop notebook execution mismatches detected.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"","code":"check_data_integrity(   d,   dataset_name = \"Dataset\",   halt_on_fail = TRUE,   display_format = \"DT\",   verbose = TRUE )"},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"d List output read_csv_files() containing CSV redefinition data dataset_name Name dataset display purposes (e.g., \"NOAA CalCOFI Database\") halt_on_fail Logical, whether set knitr eval=FALSE failure (default: TRUE) display_format Format displaying changes: \"DT\" (DataTable), \"kable\", \"print\" (default: \"DT\") verbose Logical, print detailed messages (default: TRUE)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"List : passed: Logical indicating integrity check passed changes: Full changes object detect_csv_changes() n_changes: Number changes detected message: Character string markdown-formatted message","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"function: Detects changes CSV files redefinitions using detect_csv_changes() Prints summary statistics detected changes Displays interactive table changes exist Returns appropriate status notebook control flow called Quarto notebook output: asis chunk, function render markdown messages can control chunk evaluation via knitr options.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_data_integrity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Data Integrity for Ingestion — check_data_integrity","text":"","code":"if (FALSE) { # \\dontrun{ # In a Quarto notebook chunk with output: asis d_noaa <- read_csv_files(\"swfsc.noaa.gov\", \"calcofi-db\") integrity_check <- check_data_integrity(   d = d_noaa,   dataset_name = \"NOAA CalCOFI Database\" )  # Continue only if check passed if (!integrity_check$passed) {   stop(\"Data integrity check failed\") } } # }"},{"path":"https://calcofi.io/calcofi4db/reference/check_multiple_datasets.html","id":null,"dir":"Reference","previous_headings":"","what":"Check Multiple Datasets for Integrity — check_multiple_datasets","title":"Check Multiple Datasets for Integrity — check_multiple_datasets","text":"Convenience function check integrity multiple datasets halt fail. Useful master ingestion scripts multiple datasets.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_multiple_datasets.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check Multiple Datasets for Integrity — check_multiple_datasets","text":"","code":"check_multiple_datasets(   datasets,   halt_on_first_fail = FALSE,   display_format = \"DT\" )"},{"path":"https://calcofi.io/calcofi4db/reference/check_multiple_datasets.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check Multiple Datasets for Integrity — check_multiple_datasets","text":"datasets Named list names dataset labels values outputs read_csv_files() halt_on_first_fail Logical, stop checking first failure (default: FALSE) display_format Format displaying changes (default: \"DT\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_multiple_datasets.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check Multiple Datasets for Integrity — check_multiple_datasets","text":"List : all_passed: Logical indicating checks passed results: Named list individual check results n_failed: Number datasets failed failed_datasets: Character vector failed dataset names","code":""},{"path":"https://calcofi.io/calcofi4db/reference/check_multiple_datasets.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check Multiple Datasets for Integrity — check_multiple_datasets","text":"","code":"if (FALSE) { # \\dontrun{ datasets <- list(   \"NOAA CalCOFI DB\" = d_noaa,   \"Bottle Database\" = d_bottle ) check_results <- check_multiple_datasets(datasets)  if (!check_results$all_passed) {   stop(\"One or more datasets failed integrity checks\") } } # }"},{"path":"https://calcofi.io/calcofi4db/reference/close_duckdb.html","id":null,"dir":"Reference","previous_headings":"","what":"Disconnect from DuckDB and shutdown — close_duckdb","title":"Disconnect from DuckDB and shutdown — close_duckdb","text":"Properly closes DuckDB connection shuts database.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/close_duckdb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Disconnect from DuckDB and shutdown — close_duckdb","text":"","code":"close_duckdb(con, checkpoint = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/close_duckdb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Disconnect from DuckDB and shutdown — close_duckdb","text":"con DuckDB connection checkpoint Run checkpoint closing (default: TRUE writeable connections)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/close_duckdb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Disconnect from DuckDB and shutdown — close_duckdb","text":"NULL (invisibly)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/close_duckdb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Disconnect from DuckDB and shutdown — close_duckdb","text":"","code":"if (FALSE) { # \\dontrun{ close_duckdb(con) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/commit_version_and_permalink.html","id":null,"dir":"Reference","previous_headings":"","what":"Commit Version Changes and Get Permalink — commit_version_and_permalink","title":"Commit Version Changes and Get Permalink — commit_version_and_permalink","text":"Commits DESCRIPTION, NEWS.md, specified files git, generates GitHub permalink ingestion script committed version.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/commit_version_and_permalink.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Commit Version Changes and Get Permalink — commit_version_and_permalink","text":"","code":"commit_version_and_permalink(   version,   files = NULL,   repo_owner = \"CalCOFI\",   repo_name = \"calcofi4db\",   script_path = \"inst/create_db.qmd\",   commit = FALSE,   push = FALSE )"},{"path":"https://calcofi.io/calcofi4db/reference/commit_version_and_permalink.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Commit Version Changes and Get Permalink — commit_version_and_permalink","text":"version Version number commit message files Additional files commit (e.g., \"inst/create_db.qmd\") repo_owner GitHub repository owner (default: \"CalCOFI\") repo_name GitHub repository name (default: \"calcofi4db\") script_path Path script permalink (default: \"inst/create_db.qmd\") commit Logical, whether actually commit (default: FALSE safety) push Logical, whether push remote (default: FALSE safety)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/commit_version_and_permalink.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Commit Version Changes and Get Permalink — commit_version_and_permalink","text":"List commit hash permalink","code":""},{"path":"https://calcofi.io/calcofi4db/reference/commit_version_and_permalink.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Commit Version Changes and Get Permalink — commit_version_and_permalink","text":"","code":"if (FALSE) { # \\dontrun{ # Dry run (no commit) result <- commit_version_and_permalink(   version = \"1.0.0\",   files = c(\"inst/create_db.qmd\", \"inst/schema_version.csv\") )  # Actually commit and push result <- commit_version_and_permalink(   version = \"1.0.0\",   files = c(\"inst/create_db.qmd\", \"inst/schema_version.csv\"),   commit = TRUE,   push = TRUE ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/complete_version_release.html","id":null,"dir":"Reference","previous_headings":"","what":"Complete Version Release Workflow — complete_version_release","title":"Complete Version Release Workflow — complete_version_release","text":"Performs complete version release workflow: Updates package DESCRIPTION NEWS.md Commits changes git Records schema version database Updates schema_version.csv","code":""},{"path":"https://calcofi.io/calcofi4db/reference/complete_version_release.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Complete Version Release Workflow — complete_version_release","text":"","code":"complete_version_release(   con,   schema = \"dev\",   version,   description,   news_items = NULL,   additional_files = NULL,   commit = FALSE,   push = FALSE,   repo_owner = \"CalCOFI\",   repo_name = \"calcofi4db\" )"},{"path":"https://calcofi.io/calcofi4db/reference/complete_version_release.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Complete Version Release Workflow — complete_version_release","text":"con Database connection schema Database schema (default: \"dev\") version New version number description Version description news_items News items NEWS.md (optional) additional_files Additional files commit (optional) commit Logical, whether commit (default: FALSE) push Logical, whether push (default: FALSE) repo_owner GitHub owner (default: \"CalCOFI\") repo_name GitHub repo (default: \"calcofi4db\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/complete_version_release.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Complete Version Release Workflow — complete_version_release","text":"List version info, commit details, database record","code":""},{"path":"https://calcofi.io/calcofi4db/reference/complete_version_release.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Complete Version Release Workflow — complete_version_release","text":"","code":"if (FALSE) { # \\dontrun{ # Complete release workflow release_result <- complete_version_release(   con = con_dev,   schema = \"dev\",   version = \"1.0.0\",   description = \"Initial production release with NOAA CalCOFI Database\",   news_items = c(     \"Complete NOAA CalCOFI Database ingestion\",     \"Add synchronized versioning system\",     \"Create master ingestion workflow\"   ),   additional_files = c(\"inst/create_db.qmd\", \"inst/schema_version.csv\"),   commit = TRUE,   push = TRUE ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/copy_schema.html","id":null,"dir":"Reference","previous_headings":"","what":"Copy Database Schema — copy_schema","title":"Copy Database Schema — copy_schema","text":"Copies database schema tables, data, sequences, constraints new schema. Useful promoting dev prod.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/copy_schema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Copy Database Schema — copy_schema","text":"","code":"copy_schema(   con,   from_schema = \"dev\",   to_schema = \"prod\",   drop_existing = TRUE,   copy_fk = TRUE,   verbose = TRUE )"},{"path":"https://calcofi.io/calcofi4db/reference/copy_schema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Copy Database Schema — copy_schema","text":"con Database connection from_schema Source schema name (default: \"dev\") to_schema Destination schema name (default: \"prod\") drop_existing Logical, drop existing destination schema (default: TRUE) copy_fk Logical, copy foreign key constraints (default: TRUE) verbose Logical, print progress messages (default: TRUE)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/copy_schema.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Copy Database Schema — copy_schema","text":"List copy summary statistics","code":""},{"path":"https://calcofi.io/calcofi4db/reference/copy_schema.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Copy Database Schema — copy_schema","text":"","code":"if (FALSE) { # \\dontrun{ # Copy dev to prod result <- copy_schema(con, from_schema = \"dev\", to_schema = \"prod\")  # Check results result$summary } # }"},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_from_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Create DuckDB from Parquet files — create_duckdb_from_parquet","title":"Create DuckDB from Parquet files — create_duckdb_from_parquet","text":"Creates updates DuckDB database collection Parquet files.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_from_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create DuckDB from Parquet files — create_duckdb_from_parquet","text":"","code":"create_duckdb_from_parquet(   parquet_files,   db_path = \":memory:\",   table_names = NULL )"},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_from_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create DuckDB from Parquet files — create_duckdb_from_parquet","text":"parquet_files Named list vector Parquet file paths db_path Path DuckDB file (default: \":memory:\") table_names Optional table names (default: derived file names)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_from_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create DuckDB from Parquet files — create_duckdb_from_parquet","text":"DuckDB connection loaded tables","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_from_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create DuckDB from Parquet files — create_duckdb_from_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # create from multiple parquet files con <- create_duckdb_from_parquet(   c(\"parquet/bottle.parquet\", \"parquet/cast.parquet\"),   db_path = \"calcofi.duckdb\")  # with explicit table names con <- create_duckdb_from_parquet(   parquet_files = c(     bottle = \"parquet/bottle.parquet\",     cast   = \"parquet/cast.parquet\"),   db_path = \"calcofi.duckdb\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_views.html","id":null,"dir":"Reference","previous_headings":"","what":"Create views from a manifest — create_duckdb_views","title":"Create views from a manifest — create_duckdb_views","text":"Creates DuckDB views pointing Parquet files defined manifest.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_views.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create views from a manifest — create_duckdb_views","text":"","code":"create_duckdb_views(con, manifest)"},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_views.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create views from a manifest — create_duckdb_views","text":"con DuckDB connection manifest List data frame table definitions","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_views.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create views from a manifest — create_duckdb_views","text":"connection object (invisibly)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_duckdb_views.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create views from a manifest — create_duckdb_views","text":"","code":"if (FALSE) { # \\dontrun{ manifest <- list(   tables = list(     list(name = \"bottle\", path = \"parquet/bottle.parquet\"),     list(name = \"cast\",   path = \"parquet/cast.parquet\")))  con <- get_duckdb_con() create_duckdb_views(con, manifest) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/create_gcs_manifest.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a manifest of current GCS files — create_gcs_manifest","title":"Create a manifest of current GCS files — create_gcs_manifest","text":"Generates JSON manifest documenting current state files GCS.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_gcs_manifest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a manifest of current GCS files — create_gcs_manifest","text":"","code":"create_gcs_manifest(   bucket = \"calcofi-files\",   prefix = \"current/\",   output_path = NULL )"},{"path":"https://calcofi.io/calcofi4db/reference/create_gcs_manifest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a manifest of current GCS files — create_gcs_manifest","text":"bucket GCS bucket name (default: \"calcofi-files\") prefix Path prefix include (default: \"current/\") output_path Path save manifest JSON (default: NULL returns data)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_gcs_manifest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a manifest of current GCS files — create_gcs_manifest","text":"Data frame file metadata, path saved JSON","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_gcs_manifest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create a manifest of current GCS files — create_gcs_manifest","text":"","code":"if (FALSE) { # \\dontrun{ manifest <- create_gcs_manifest() create_gcs_manifest(output_path = \"manifest_2026-01-31.json\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/create_redefinition_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Redefinition Files for Tables and Fields — create_redefinition_files","title":"Create Redefinition Files for Tables and Fields — create_redefinition_files","text":"Creates redefinition files tables fields exist.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_redefinition_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Redefinition Files for Tables and Fields — create_redefinition_files","text":"","code":"create_redefinition_files(d_tbls_in, d_flds_in, d, tbls_rd_csv, flds_rd_csv)"},{"path":"https://calcofi.io/calcofi4db/reference/create_redefinition_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Redefinition Files for Tables and Fields — create_redefinition_files","text":"d_tbls_in Data frame table metadata d_flds_in Data frame field metadata d Data frame raw data tbls_rd_csv Path table redefinition CSV file flds_rd_csv Path field redefinition CSV file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_redefinition_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Redefinition Files for Tables and Fields — create_redefinition_files","text":"Invisible NULL (files written disk)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/create_redefinition_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Redefinition Files for Tables and Fields — create_redefinition_files","text":"","code":"if (FALSE) { # \\dontrun{ create_redefinition_files(   d_tbls_in = tables_metadata,   d_flds_in = fields_metadata,   d = raw_data,   tbls_rd_csv = \"path/to/tbls_redefine.csv\",   flds_rd_csv = \"path/to/flds_redefine.csv\" ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/csv_to_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert CSV file to Parquet format — csv_to_parquet","title":"Convert CSV file to Parquet format — csv_to_parquet","text":"Reads CSV file writes Parquet optional schema enforcement. Parquet provides efficient columnar storage compression.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/csv_to_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert CSV file to Parquet format — csv_to_parquet","text":"","code":"csv_to_parquet(   csv_path,   output = NULL,   schema_def = NULL,   compression = \"snappy\",   col_types = NULL )"},{"path":"https://calcofi.io/calcofi4db/reference/csv_to_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert CSV file to Parquet format — csv_to_parquet","text":"csv_path Path CSV file (local GCS) output Path output Parquet file. NULL, uses name .parquet extension schema_def Optional schema definition (arrow::schema object list) compression Compression codec (default: \"snappy\") col_types Column type specification readr (optional)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/csv_to_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert CSV file to Parquet format — csv_to_parquet","text":"Path created Parquet file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/csv_to_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert CSV file to Parquet format — csv_to_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # basic conversion pqt_file <- csv_to_parquet(\"data/bottle.csv\")  # with custom output path pqt_file <- csv_to_parquet(   \"data/bottle.csv\",   output = \"parquet/bottle.parquet\")  # with explicit schema schema <- arrow::schema(   cruise_id = arrow::int32(),   station   = arrow::string(),   depth     = arrow::float64()) pqt_file <- csv_to_parquet(\"data/bottle.csv\", schema_def = schema) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/detect_csv_changes.html","id":null,"dir":"Reference","previous_headings":"","what":"Detect Changes in CSV Files — detect_csv_changes","title":"Detect Changes in CSV Files — detect_csv_changes","text":"Compares latest CSV files redefinition metadata detect changes tables, fields, data types. function compares raw CSV data (d$d_csv) table field redefinitions (d$d_tbls_rd d$d_flds_rd) identify mismatches database ingestion.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/detect_csv_changes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Detect Changes in CSV Files — detect_csv_changes","text":"","code":"detect_csv_changes(d)"},{"path":"https://calcofi.io/calcofi4db/reference/detect_csv_changes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Detect Changes in CSV Files — detect_csv_changes","text":"d List output read_csv_files() containing: d_csv: CSV metadata tables, fields, data d_tbls_rd: Table redefinition data frame d_flds_rd: Field redefinition data frame","code":""},{"path":"https://calcofi.io/calcofi4db/reference/detect_csv_changes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Detect Changes in CSV Files — detect_csv_changes","text":"list containing detected changes: tables_added: Tables CSV redefinitions tables_removed: Tables redefinitions CSV fields_added: Fields CSV redefinitions (table) fields_removed: Fields redefinitions CSV (table) type_mismatches: Field type differences CSV redefinitions summary: Data frame summarizing changes display","code":""},{"path":"https://calcofi.io/calcofi4db/reference/detect_csv_changes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Detect Changes in CSV Files — detect_csv_changes","text":"","code":"if (FALSE) { # \\dontrun{ # Read CSV files and metadata d <- read_csv_files(\"swfsc.noaa.gov\", \"calcofi-db\")  # Detect changes between CSV files and redefinitions changes <- detect_csv_changes(d)  # Display summary of changes print(changes$summary) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/determine_field_types.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine Field Types for Database — determine_field_types","title":"Determine Field Types for Database — determine_field_types","text":"Determines appropriate PostgreSQL data types fields based data values.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/determine_field_types.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine Field Types for Database — determine_field_types","text":"","code":"determine_field_types(d, tbl, fld)"},{"path":"https://calcofi.io/calcofi4db/reference/determine_field_types.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine Field Types for Database — determine_field_types","text":"d Data frame raw data tbl Table name fld Field name","code":""},{"path":"https://calcofi.io/calcofi4db/reference/determine_field_types.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine Field Types for Database — determine_field_types","text":"Character vector PostgreSQL data types","code":""},{"path":"https://calcofi.io/calcofi4db/reference/determine_field_types.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Determine Field Types for Database — determine_field_types","text":"","code":"if (FALSE) { # \\dontrun{ determine_field_types(raw_data, \"species\", \"species_name\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/display_csv_changes.html","id":null,"dir":"Reference","previous_headings":"","what":"Display CSV Changes in a Formatted Table — display_csv_changes","title":"Display CSV Changes in a Formatted Table — display_csv_changes","text":"Creates formatted table showing changes detected CSV files redefinitions. Changes color-coded: additions green, removals red, type mismatches orange.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/display_csv_changes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Display CSV Changes in a Formatted Table — display_csv_changes","text":"","code":"display_csv_changes(changes, format = \"DT\", title = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/display_csv_changes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Display CSV Changes in a Formatted Table — display_csv_changes","text":"changes List output detect_csv_changes() containing change information format Output format: \"DT\" interactive DataTable (default), \"kable\" static knitr table, \"tibble\" raw data frame title Optional title table","code":""},{"path":"https://calcofi.io/calcofi4db/reference/display_csv_changes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Display CSV Changes in a Formatted Table — display_csv_changes","text":"Formatted table object (DT, kable, tibble) showing changes","code":""},{"path":"https://calcofi.io/calcofi4db/reference/display_csv_changes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Display CSV Changes in a Formatted Table — display_csv_changes","text":"","code":"if (FALSE) { # \\dontrun{ # Read CSV files and detect changes d <- read_csv_files(\"swfsc.noaa.gov\", \"calcofi-db\") changes <- detect_csv_changes(d)  # Display interactive table display_csv_changes(changes)  # Display static table for reports display_csv_changes(changes, format = \"kable\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/duckdb_to_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Export DuckDB table to Parquet — duckdb_to_parquet","title":"Export DuckDB table to Parquet — duckdb_to_parquet","text":"Exports DuckDB table query result Parquet file.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/duckdb_to_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Export DuckDB table to Parquet — duckdb_to_parquet","text":"","code":"duckdb_to_parquet(con, table_or_query, output, compression = \"snappy\")"},{"path":"https://calcofi.io/calcofi4db/reference/duckdb_to_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Export DuckDB table to Parquet — duckdb_to_parquet","text":"con DuckDB connection table_or_query Table name SQL query output Path output Parquet file compression Compression codec (default: \"snappy\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/duckdb_to_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Export DuckDB table to Parquet — duckdb_to_parquet","text":"Path created Parquet file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/duckdb_to_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Export DuckDB table to Parquet — duckdb_to_parquet","text":"","code":"if (FALSE) { # \\dontrun{ # export table duckdb_to_parquet(con, \"bottle\", \"export/bottle.parquet\")  # export query result duckdb_to_parquet(   con,   \"SELECT * FROM bottle WHERE year >= 2020\",   \"export/bottle_recent.parquet\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_calcofi_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a CalCOFI file from the immutable archive — get_calcofi_file","title":"Get a CalCOFI file from the immutable archive — get_calcofi_file","text":"Downloads file immutable archive snapshot. ensures reproducible data access referencing specific archive timestamps.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_calcofi_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a CalCOFI file from the immutable archive — get_calcofi_file","text":"","code":"get_calcofi_file(path, date = \"latest\", bucket = \"public\", local_path = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/get_calcofi_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a CalCOFI file from the immutable archive — get_calcofi_file","text":"path Relative path within archive (e.g., \"swfsc.noaa.gov/calcofi-db/cruise.csv\") date Date string format \"YYYY-MM-DD_HHMMSS\" \"latest\" (default) bucket Bucket type: \"public\" \"private\" (default: \"public\") local_path Local path save file (default: temp file)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_calcofi_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a CalCOFI file from the immutable archive — get_calcofi_file","text":"Path downloaded local file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_calcofi_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a CalCOFI file from the immutable archive — get_calcofi_file","text":"","code":"if (FALSE) { # \\dontrun{ # get latest version cruise_csv <- get_calcofi_file(\"swfsc.noaa.gov/calcofi-db/cruise.csv\")  # get specific version for reproducibility cruise_csv <- get_calcofi_file(   \"swfsc.noaa.gov/calcofi-db/cruise.csv\",   date = \"2026-02-01_143059\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_db_con.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a database connection to the CalCOFI PostgreSQL database — get_db_con","title":"Get a database connection to the CalCOFI PostgreSQL database — get_db_con","text":"Get database connection CalCOFI PostgreSQL database","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_db_con.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a database connection to the CalCOFI PostgreSQL database — get_db_con","text":"","code":"get_db_con(   schemas = \"public\",   host = NULL,   port = 5432,   dbname = \"gis\",   user = \"admin\",   password_file = NULL )"},{"path":"https://calcofi.io/calcofi4db/reference/get_db_con.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a database connection to the CalCOFI PostgreSQL database — get_db_con","text":"schemas Character vector schema search paths (default: \"public\") host Database host (default: automatically detected based system) port Database port (default: 5432) dbname Database name (default: \"gis\") user Database user (default: \"admin\") password_file Path file containing database password (default: system-dependent location)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_db_con.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a database connection to the CalCOFI PostgreSQL database — get_db_con","text":"database connection object","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_con.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a DuckDB connection — get_duckdb_con","title":"Get a DuckDB connection — get_duckdb_con","text":"Creates connection DuckDB database, either local file -memory. Optionally downloads GCS path starts gs://.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_con.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a DuckDB connection — get_duckdb_con","text":"","code":"get_duckdb_con(path = \":memory:\", read_only = FALSE, config = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_con.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a DuckDB connection — get_duckdb_con","text":"path Path DuckDB file, GCS path, \":memory:\" -memory read_only Open database read-mode (default: FALSE) config Named list DuckDB configuration options","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_con.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a DuckDB connection — get_duckdb_con","text":"DuckDB connection object","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_con.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a DuckDB connection — get_duckdb_con","text":"","code":"if (FALSE) { # \\dontrun{ # in-memory database con <- get_duckdb_con()  # local file con <- get_duckdb_con(\"data/calcofi.duckdb\")  # from GCS (downloads first) con <- get_duckdb_con(\"gs://calcofi-db/duckdb/calcofi.duckdb\")  # read-only with custom config con <- get_duckdb_con(   \"calcofi.duckdb\",   read_only = TRUE,   config = list(threads = 4)) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_tables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get table information from DuckDB — get_duckdb_tables","title":"Get table information from DuckDB — get_duckdb_tables","text":"Retrieves schema information tables DuckDB database.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_tables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get table information from DuckDB — get_duckdb_tables","text":"","code":"get_duckdb_tables(con)"},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_tables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get table information from DuckDB — get_duckdb_tables","text":"con DuckDB connection","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_tables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get table information from DuckDB — get_duckdb_tables","text":"Data frame table names, column info, row counts","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_duckdb_tables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get table information from DuckDB — get_duckdb_tables","text":"","code":"if (FALSE) { # \\dontrun{ tables <- get_duckdb_tables(con) tables } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_gcs_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get a file from Google Cloud Storage — get_gcs_file","title":"Get a file from Google Cloud Storage — get_gcs_file","text":"Downloads file GCS local path, using googleCloudStorageR gcloud CLI fallback.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_gcs_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get a file from Google Cloud Storage — get_gcs_file","text":"","code":"get_gcs_file(gcs_path, bucket = NULL, local_path = NULL, overwrite = FALSE)"},{"path":"https://calcofi.io/calcofi4db/reference/get_gcs_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get a file from Google Cloud Storage — get_gcs_file","text":"gcs_path Full GCS path (gs://bucket/path//file) relative path bucket GCS bucket name (used gcs_path relative) local_path Local path save file. NULL, returns temp file path overwrite Whether overwrite existing local file (default: FALSE)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_gcs_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get a file from Google Cloud Storage — get_gcs_file","text":"Path downloaded local file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_gcs_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get a file from Google Cloud Storage — get_gcs_file","text":"","code":"if (FALSE) { # \\dontrun{ # using full gs:// path local_file <- get_gcs_file(\"gs://calcofi-files/current/bottle.csv\")  # using bucket + relative path local_file <- get_gcs_file(   \"current/calcofi.org/bottle-database/bottle.csv\",   bucket = \"calcofi-files-public\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_historical_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Get historical file from a specific date — get_historical_file","title":"Get historical file from a specific date — get_historical_file","text":"Retrieves file existed specific date archive.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_historical_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get historical file from a specific date — get_historical_file","text":"","code":"get_historical_file(path, date, bucket = \"calcofi-files\", local_path = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/get_historical_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get historical file from a specific date — get_historical_file","text":"path Relative path file date Date retrieve (character \"YYYY-MM-DD\" Date object) bucket GCS bucket name (default: \"calcofi-files\") local_path Local path save file (default: temp file)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_historical_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get historical file from a specific date — get_historical_file","text":"Path downloaded local file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_historical_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get historical file from a specific date — get_historical_file","text":"","code":"if (FALSE) { # \\dontrun{ # get bottle.csv as it was on 2026-01-15 file <- get_historical_file(   \"calcofi.org/bottle-database/bottle.csv\",   date = \"2026-01-15\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_manifest.html","id":null,"dir":"Reference","previous_headings":"","what":"Get manifest for a specific date — get_manifest","title":"Get manifest for a specific date — get_manifest","text":"Retrieves manifest JSON GCS given sync timestamp. manifest contains metadata files archive snapshot.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_manifest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get manifest for a specific date — get_manifest","text":"","code":"get_manifest(date = \"latest\", bucket = \"public\")"},{"path":"https://calcofi.io/calcofi4db/reference/get_manifest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get manifest for a specific date — get_manifest","text":"date Date string format \"YYYY-MM-DD_HHMMSS\" \"latest\" (default) bucket Bucket type: \"public\" \"private\" (default: \"public\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_manifest.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get manifest for a specific date — get_manifest","text":"List containing manifest data (generated_at, sync_timestamp, archive_path, files)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_manifest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get manifest for a specific date — get_manifest","text":"","code":"if (FALSE) { # \\dontrun{ manifest <- get_manifest() manifest <- get_manifest(\"2026-02-01_143059\", \"public\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_package_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Current Package Version — get_package_version","title":"Get Current Package Version — get_package_version","text":"Reads current version DESCRIPTION file.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_package_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Current Package Version — get_package_version","text":"","code":"get_package_version()"},{"path":"https://calcofi.io/calcofi4db/reference/get_package_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Current Package Version — get_package_version","text":"Character string current version","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_package_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Current Package Version — get_package_version","text":"","code":"if (FALSE) { # \\dontrun{ current_version <- get_package_version() print(current_version) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_parquet_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Parquet file metadata — get_parquet_metadata","title":"Get Parquet file metadata — get_parquet_metadata","text":"Retrieves schema metadata Parquet file.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_parquet_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Parquet file metadata — get_parquet_metadata","text":"","code":"get_parquet_metadata(path)"},{"path":"https://calcofi.io/calcofi4db/reference/get_parquet_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Parquet file metadata — get_parquet_metadata","text":"path Path Parquet file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_parquet_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Parquet file metadata — get_parquet_metadata","text":"List schema, num_rows, num_columns, file_size","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_parquet_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Parquet file metadata — get_parquet_metadata","text":"","code":"if (FALSE) { # \\dontrun{ meta <- get_parquet_metadata(\"parquet/bottle.parquet\") meta$schema meta$num_rows } # }"},{"path":"https://calcofi.io/calcofi4db/reference/get_schema_versions.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Schema Version History — get_schema_versions","title":"Get Schema Version History — get_schema_versions","text":"Retrieves schema version history either database CSV file.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_schema_versions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Schema Version History — get_schema_versions","text":"","code":"get_schema_versions(con = NULL, schema = \"dev\", from_csv = FALSE)"},{"path":"https://calcofi.io/calcofi4db/reference/get_schema_versions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Schema Version History — get_schema_versions","text":"con Database connection object (optional from_csv = TRUE) schema Schema name (default: \"dev\") from_csv Logical, read CSV file instead database (default: FALSE)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_schema_versions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Schema Version History — get_schema_versions","text":"tibble version history","code":""},{"path":"https://calcofi.io/calcofi4db/reference/get_schema_versions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Schema Version History — get_schema_versions","text":"","code":"if (FALSE) { # \\dontrun{ # Get from database get_schema_versions(con, schema = \"dev\")  # Get from CSV file get_schema_versions(from_csv = TRUE) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/ingest_csv_to_db.html","id":null,"dir":"Reference","previous_headings":"","what":"Ingest CSV data to database — ingest_csv_to_db","title":"Ingest CSV data to database — ingest_csv_to_db","text":"Loads transformed data PostgreSQL database proper metadata.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_csv_to_db.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ingest CSV data to database — ingest_csv_to_db","text":"","code":"ingest_csv_to_db(   con,   schema,   transformed_data,   d_flds_rd,   d_gdir_data = NULL,   workflow_info,   overwrite = FALSE )"},{"path":"https://calcofi.io/calcofi4db/reference/ingest_csv_to_db.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ingest CSV data to database — ingest_csv_to_db","text":"con Database connection schema Database schema transformed_data Transformed data transform_data() d_flds_rd Field redefinition data frame d_gdir_data Google Drive metadata (optional) workflow_info Workflow information (name, URL, etc.) overwrite Whether overwrite existing tables","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_csv_to_db.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ingest CSV data to database — ingest_csv_to_db","text":"Data frame ingestion statistics","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_csv_to_db.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ingest CSV data to database — ingest_csv_to_db","text":"","code":"if (FALSE) { # \\dontrun{ stats <- ingest_csv_to_db(   con = db_connection,   schema = \"public\",   transformed_data = transformed_data,   d_flds_rd = data_info$d_flds_rd,   d_gdir_data = data_info$d_gdir_data,   workflow_info = data_info$workflow_info ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/ingest_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Ingest a Dataset — ingest_dataset","title":"Ingest a Dataset — ingest_dataset","text":"High-level function ingest dataset database.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ingest a Dataset — ingest_dataset","text":"","code":"ingest_dataset(   con,   provider,   dataset,   dir_data,   schema = \"public\",   dir_googledata = NULL,   email = NULL,   overwrite = FALSE )"},{"path":"https://calcofi.io/calcofi4db/reference/ingest_dataset.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Ingest a Dataset — ingest_dataset","text":"con Database connection provider Data provider name dataset Dataset name dir_data Base directory data schema Database schema dir_googledata Google Drive folder URL (optional) email Google Drive authentication email (optional) overwrite Whether overwrite existing tables","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_dataset.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Ingest a Dataset — ingest_dataset","text":"List ingestion results statistics","code":""},{"path":"https://calcofi.io/calcofi4db/reference/ingest_dataset.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Ingest a Dataset — ingest_dataset","text":"","code":"if (FALSE) { # \\dontrun{ result <- ingest_dataset(   con = db_connection,   provider = \"swfsc.noaa.gov\",   dataset = \"calcofi-db\",   dir_data = \"/path/to/data\",   schema = \"public\" ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/init_schema_version_csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Initialize Schema Version CSV — init_schema_version_csv","title":"Initialize Schema Version CSV — init_schema_version_csv","text":"Creates empty schema_version.csv file inst/ directory exist. useful starting new versioning system.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/init_schema_version_csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Initialize Schema Version CSV — init_schema_version_csv","text":"","code":"init_schema_version_csv()"},{"path":"https://calcofi.io/calcofi4db/reference/init_schema_version_csv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Initialize Schema Version CSV — init_schema_version_csv","text":"Invisible NULL (CSV file created)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/init_schema_version_csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Initialize Schema Version CSV — init_schema_version_csv","text":"","code":"if (FALSE) { # \\dontrun{ init_schema_version_csv() } # }"},{"path":"https://calcofi.io/calcofi4db/reference/list_calcofi_files.html","id":null,"dir":"Reference","previous_headings":"","what":"List CalCOFI files from manifest — list_calcofi_files","title":"List CalCOFI files from manifest — list_calcofi_files","text":"Lists files available specific archive snapshot using manifest. provides immutable, reproducible file references.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_calcofi_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List CalCOFI files from manifest — list_calcofi_files","text":"","code":"list_calcofi_files(date = \"latest\", bucket = \"public\", path = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/list_calcofi_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List CalCOFI files from manifest — list_calcofi_files","text":"date Date string format \"YYYY-MM-DD_HHMMSS\" \"latest\" (default) bucket Bucket type: \"public\" \"private\" (default: \"public\") path Optional path filter (e.g., \"swfsc.noaa.gov/calcofi-db\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_calcofi_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List CalCOFI files from manifest — list_calcofi_files","text":"Data frame files manifest","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_calcofi_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List CalCOFI files from manifest — list_calcofi_files","text":"","code":"if (FALSE) { # \\dontrun{ files <- list_calcofi_files() files <- list_calcofi_files(path = \"swfsc.noaa.gov/calcofi-db\") files <- list_calcofi_files(\"2026-02-01_143059\", \"public\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_files.html","id":null,"dir":"Reference","previous_headings":"","what":"List files in a GCS bucket/prefix — list_gcs_files","title":"List files in a GCS bucket/prefix — list_gcs_files","text":"Lists objects GCS bucket optional prefix filter.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List files in a GCS bucket/prefix — list_gcs_files","text":"","code":"list_gcs_files(bucket, prefix = NULL, recursive = TRUE)"},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List files in a GCS bucket/prefix — list_gcs_files","text":"bucket GCS bucket name prefix Path prefix filter results recursive Whether list recursively (default: TRUE)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List files in a GCS bucket/prefix — list_gcs_files","text":"Data frame columns: name, size, updated, md5Hash","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List files in a GCS bucket/prefix — list_gcs_files","text":"","code":"if (FALSE) { # \\dontrun{ # list all files in current/ files <- list_gcs_files(\"calcofi-files\", prefix = \"current/\")  # list bottle-database files files <- list_gcs_files(   \"calcofi-files\",   prefix = \"current/calcofi.org/bottle-database/\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_versions.html","id":null,"dir":"Reference","previous_headings":"","what":"List versions of a file in GCS archive — list_gcs_versions","title":"List versions of a file in GCS archive — list_gcs_versions","text":"Finds archived versions file calcofi-files bucket.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_versions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List versions of a file in GCS archive — list_gcs_versions","text":"","code":"list_gcs_versions(path, bucket = \"calcofi-files-public\")"},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_versions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List versions of a file in GCS archive — list_gcs_versions","text":"path Relative path file (e.g., \"calcofi.org/bottle-database/bottle.csv\") bucket GCS bucket name (default: \"calcofi-files\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_versions.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List versions of a file in GCS archive — list_gcs_versions","text":"Data frame columns: version_date, gcs_path, size, updated","code":""},{"path":"https://calcofi.io/calcofi4db/reference/list_gcs_versions.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List versions of a file in GCS archive — list_gcs_versions","text":"","code":"if (FALSE) { # \\dontrun{ versions <- list_gcs_versions(\"calcofi.org/bottle-database/bottle.csv\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/load_duckdb_extension.html","id":null,"dir":"Reference","previous_headings":"","what":"Install and load DuckDB extension — load_duckdb_extension","title":"Install and load DuckDB extension — load_duckdb_extension","text":"Installs (needed) loads DuckDB extension.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/load_duckdb_extension.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install and load DuckDB extension — load_duckdb_extension","text":"","code":"load_duckdb_extension(con, extension, from = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/load_duckdb_extension.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Install and load DuckDB extension — load_duckdb_extension","text":"con DuckDB connection extension Extension name (e.g., \"spatial\", \"h3\", \"httpfs\") Optional source (\"community\" specific URL)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/load_duckdb_extension.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Install and load DuckDB extension — load_duckdb_extension","text":"connection (invisibly)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/load_duckdb_extension.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Install and load DuckDB extension — load_duckdb_extension","text":"","code":"if (FALSE) { # \\dontrun{ # install community extension load_duckdb_extension(con, \"h3\", from = \"community\")  # install core extension load_duckdb_extension(con, \"spatial\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/print_csv_change_stats.html","id":null,"dir":"Reference","previous_headings":"","what":"Print CSV Change Statistics — print_csv_change_stats","title":"Print CSV Change Statistics — print_csv_change_stats","text":"Prints summary change statistics detect_csv_changes() output.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/print_csv_change_stats.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print CSV Change Statistics — print_csv_change_stats","text":"","code":"print_csv_change_stats(changes, verbose = TRUE)"},{"path":"https://calcofi.io/calcofi4db/reference/print_csv_change_stats.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print CSV Change Statistics — print_csv_change_stats","text":"changes List output detect_csv_changes() verbose Logical, whether print detailed information","code":""},{"path":"https://calcofi.io/calcofi4db/reference/print_csv_change_stats.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print CSV Change Statistics — print_csv_change_stats","text":"Invisible NULL (prints console)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/print_csv_change_stats.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print CSV Change Statistics — print_csv_change_stats","text":"","code":"if (FALSE) { # \\dontrun{ d <- read_csv_files(\"swfsc.noaa.gov\", \"calcofi-db\") changes <- detect_csv_changes(d) print_csv_change_stats(changes) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/put_gcs_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload a file to Google Cloud Storage — put_gcs_file","title":"Upload a file to Google Cloud Storage — put_gcs_file","text":"Uploads local file GCS.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/put_gcs_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload a file to Google Cloud Storage — put_gcs_file","text":"","code":"put_gcs_file(local_path, gcs_path, bucket = NULL, content_type = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/put_gcs_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload a file to Google Cloud Storage — put_gcs_file","text":"local_path Path local file gcs_path Full GCS path (gs://bucket/path) relative path bucket GCS bucket name (used gcs_path relative) content_type MIME content type (default: auto-detect)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/put_gcs_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload a file to Google Cloud Storage — put_gcs_file","text":"GCS URI uploaded file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/put_gcs_file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload a file to Google Cloud Storage — put_gcs_file","text":"","code":"if (FALSE) { # \\dontrun{ put_gcs_file(\"local/bottle.csv\", \"gs://calcofi-files/current/bottle.csv\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Read CSV Files and Their Metadata — read_csv_files","title":"Read CSV Files and Their Metadata — read_csv_files","text":"Reads CSV files directory prepares ingestion database. function primary entry point CalCOFI data ingestion workflow. performs following steps:","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read CSV Files and Their Metadata — read_csv_files","text":"","code":"read_csv_files(   provider,   dataset,   subdir = NULL,   dir_data = \"~/My Drive/projects/calcofi/data\",   url_gdata =     \"https://drive.google.com/drive/u/0/folders/1xxdWa4mWkmfkJUQsHxERTp9eBBXBMbV7\",   use_gdrive = TRUE,   email = \"ben@ecoquants.com\",   verbose = F )"},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read CSV Files and Their Metadata — read_csv_files","text":"provider Data provider (e.g., \"swfsc.noaa.gov\") dataset Dataset name (e.g., \"calcofi-db\") subdir Optional subdirectory (.e., dir_data/provider/dataset/subdir) CSV files dir_data directory path CalCOFI base data folder available locally, CSVs provider/dataset directory. Default: \"~/Drive/projects/calcofi/data\" url_gdata URL CalCOFI base data folder Google Drive (CSVs provider/dataset directory) metadata information CSVs. Default: data - Google Drive use_gdrive Whether query Google Drive metadata. Default: TRUE email Google Drive authentication email (use_gdrive=TRUE). Default: \"ben@ecoquants.com\"","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read CSV Files and Their Metadata — read_csv_files","text":"list containing: d_csv List CSV data including: - data: tibble columns (tbl, csv, data, nrow, ncol, flds) - tables: summary tables (tbl, nrow, ncol) - fields: summary fields (tbl, fld, type) d_gdata Google Drive metadata (use_gdrive=TRUE) including file names, IDs, modification times, web links d_tbls_rd Table redefinition data frame columns: tbl_old, tbl_new, tbl_description d_flds_rd Field redefinition data frame columns: tbl_old, tbl_new, fld_old, fld_new, order_old, order_new, type_old, type_new, fld_description, notes, mutation workflow_info Information workflow including workflow name, QMD file path, URL paths List file paths used workflow","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Read CSV Files and Their Metadata — read_csv_files","text":"Reads CSV files specified provider/dataset directory Extracts metadata tables fields CSV files Creates reads redefinition files table field transformations Optionally queries Google Drive file metadata (creation dates, etc.) function returns comprehensive data structure containing: Raw CSV data metadata (d_csv) Table redefinitions (d_tbls_rd) renaming/describing tables Field redefinitions (d_flds_rd) renaming/typing/transforming fields Google Drive metadata requested (d_gdata) Workflow information file paths","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_files.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read CSV Files and Their Metadata — read_csv_files","text":"","code":"if (FALSE) { # \\dontrun{ # Basic usage d <- read_csv_files(   provider = \"swfsc.noaa.gov\",   dataset  = \"calcofi-db\")  # Access the raw CSV data d$d_csv$data  # Check table redefinitions d$d_tbls_rd  # Check field redefinitions d$d_flds_rd  # Without Google Drive metadata d <- read_csv_files(   provider = \"swfsc.noaa.gov\",   dataset  = \"calcofi-db\",   use_gdrive = FALSE) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Read CSV Files and Extract Metadata — read_csv_metadata","title":"Read CSV Files and Extract Metadata — read_csv_metadata","text":"Reads CSV files directory, extracts metadata tables fields, writes metadata files processing.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read CSV Files and Extract Metadata — read_csv_metadata","text":"","code":"read_csv_metadata(dir_csv, dir_ingest, create_dirs = TRUE)"},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read CSV Files and Extract Metadata — read_csv_metadata","text":"dir_csv Directory containing CSV files dir_ingest Directory store metadata files create_dirs Whether create directories exist","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read CSV Files and Extract Metadata — read_csv_metadata","text":"list two data frames: tables fields metadata","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_csv_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read CSV Files and Extract Metadata — read_csv_metadata","text":"","code":"if (FALSE) { # \\dontrun{ csv_metadata <- read_csv_metadata(   dir_csv = \"/path/to/data/provider/dataset\",   dir_ingest = \"/path/to/ingest/provider/dataset\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/read_parquet_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a Parquet table — read_parquet_table","title":"Read a Parquet table — read_parquet_table","text":"Reads Parquet file data frame lazy Arrow Table.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_parquet_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a Parquet table — read_parquet_table","text":"","code":"read_parquet_table(path, lazy = FALSE, columns = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/read_parquet_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a Parquet table — read_parquet_table","text":"path Path Parquet file (local GCS) lazy TRUE, returns Arrow Table lazy evaluation (default: FALSE) columns Optional vector column names read (default: )","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_parquet_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read a Parquet table — read_parquet_table","text":"Data frame Arrow Table","code":""},{"path":"https://calcofi.io/calcofi4db/reference/read_parquet_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read a Parquet table — read_parquet_table","text":"","code":"if (FALSE) { # \\dontrun{ # read as data frame df <- read_parquet_table(\"parquet/bottle.parquet\")  # read as lazy Arrow table for large files tbl <- read_parquet_table(\"parquet/bottle.parquet\", lazy = TRUE)  # read only specific columns df <- read_parquet_table(\"parquet/bottle.parquet\", columns = c(\"cruise_id\", \"depth\")) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Record Schema Version — record_schema_version","title":"Record Schema Version — record_schema_version","text":"Records new schema version schema_version table metadata ingestion. function called successful completion dataset ingestions relationship creation.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Record Schema Version — record_schema_version","text":"","code":"record_schema_version(   con,   schema = \"dev\",   version,   description,   script_permalink )"},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Record Schema Version — record_schema_version","text":"con Database connection object schema Schema name (default: \"dev\") version Semantic version number (e.g., \"1.0.0\", \"1.1.0\") description Description changes version script_permalink GitHub permalink versioned ingestion script","code":""},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Record Schema Version — record_schema_version","text":"Invisible NULL (version recorded database CSV file)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Record Schema Version — record_schema_version","text":"function: Creates schema_version table exist Reads existing versions inst/schema_version.csv Inserts new version record database Appends new version inst/schema_version.csv","code":""},{"path":"https://calcofi.io/calcofi4db/reference/record_schema_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Record Schema Version — record_schema_version","text":"","code":"if (FALSE) { # \\dontrun{ record_schema_version(   con = con,   schema = \"dev\",   version = \"1.0.0\",   description = \"Initial ingestion of NOAA CalCOFI Database\",   script_permalink = \"https://github.com/CalCOFI/calcofi4db/blob/abc123/inst/create_db.qmd\" ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/render_integrity_message.html","id":null,"dir":"Reference","previous_headings":"","what":"Render Data Integrity Check Message — render_integrity_message","title":"Render Data Integrity Check Message — render_integrity_message","text":"Renders markdown message check_data_integrity() output. Use output: asis chunks display formatted messages.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/render_integrity_message.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Render Data Integrity Check Message — render_integrity_message","text":"","code":"render_integrity_message(integrity_check)"},{"path":"https://calcofi.io/calcofi4db/reference/render_integrity_message.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Render Data Integrity Check Message — render_integrity_message","text":"integrity_check List output check_data_integrity()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/render_integrity_message.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Render Data Integrity Check Message — render_integrity_message","text":"Invisible NULL (message rendered via cat())","code":""},{"path":"https://calcofi.io/calcofi4db/reference/render_integrity_message.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Render Data Integrity Check Message — render_integrity_message","text":"","code":"if (FALSE) { # \\dontrun{ # In a Quarto chunk with output: asis integrity_check <- check_data_integrity(d, \"NOAA CalCOFI Database\") render_integrity_message(integrity_check) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/save_duckdb_to_gcs.html","id":null,"dir":"Reference","previous_headings":"","what":"Save DuckDB to GCS — save_duckdb_to_gcs","title":"Save DuckDB to GCS — save_duckdb_to_gcs","text":"Saves DuckDB database file Google Cloud Storage.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/save_duckdb_to_gcs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Save DuckDB to GCS — save_duckdb_to_gcs","text":"","code":"save_duckdb_to_gcs(con, gcs_path, checkpoint = TRUE)"},{"path":"https://calcofi.io/calcofi4db/reference/save_duckdb_to_gcs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Save DuckDB to GCS — save_duckdb_to_gcs","text":"con DuckDB connection gcs_path GCS path (e.g., \"gs://calcofi-db/duckdb/calcofi.duckdb\") checkpoint Run checkpoint saving ensure data flushed","code":""},{"path":"https://calcofi.io/calcofi4db/reference/save_duckdb_to_gcs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Save DuckDB to GCS — save_duckdb_to_gcs","text":"GCS URI uploaded file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/save_duckdb_to_gcs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Save DuckDB to GCS — save_duckdb_to_gcs","text":"","code":"if (FALSE) { # \\dontrun{ save_duckdb_to_gcs(con, \"gs://calcofi-db/duckdb/calcofi.duckdb\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/set_duckdb_comments.html","id":null,"dir":"Reference","previous_headings":"","what":"Set table and column comments in DuckDB — set_duckdb_comments","title":"Set table and column comments in DuckDB — set_duckdb_comments","text":"Adds documentation comments tables columns DuckDB.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/set_duckdb_comments.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set table and column comments in DuckDB — set_duckdb_comments","text":"","code":"set_duckdb_comments(con, table, table_comment = NULL, column_comments = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/set_duckdb_comments.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set table and column comments in DuckDB — set_duckdb_comments","text":"con DuckDB connection table Table name table_comment Optional table-level comment column_comments Named list column comments","code":""},{"path":"https://calcofi.io/calcofi4db/reference/set_duckdb_comments.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set table and column comments in DuckDB — set_duckdb_comments","text":"connection (invisibly)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/set_duckdb_comments.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set table and column comments in DuckDB — set_duckdb_comments","text":"","code":"if (FALSE) { # \\dontrun{ set_duckdb_comments(   con,   table = \"bottle\",   table_comment = \"Bottle sample data from CalCOFI cruises\",   column_comments = list(     cruise_id = \"Unique cruise identifier\",     depth_m   = \"Sample depth in meters\",     temp_c    = \"Water temperature in Celsius\")) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_redefine.html","id":null,"dir":"Reference","previous_headings":"","what":"Show fields to redefine — show_fields_redefine","title":"Show fields to redefine — show_fields_redefine","text":"Show tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_redefine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show fields to redefine — show_fields_redefine","text":"","code":"show_fields_redefine(d)"},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_redefine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show fields to redefine — show_fields_redefine","text":"d data object output read_csv_files()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_redefine.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show fields to redefine — show_fields_redefine","text":"Data frame tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_rename.html","id":null,"dir":"Reference","previous_headings":"","what":"Show fields to redefine — show_fields_redefine","title":"Show fields to redefine — show_fields_redefine","text":"Show tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_rename.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show fields to redefine — show_fields_redefine","text":"","code":"show_fields_redefine(d)"},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_rename.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show fields to redefine — show_fields_redefine","text":"d data object output read_csv_files()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_fields_rename.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show fields to redefine — show_fields_redefine","text":"Data frame tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_googledrive_files.html","id":null,"dir":"Reference","previous_headings":"","what":"Show Google Drive files — show_googledrive_files","title":"Show Google Drive files — show_googledrive_files","text":"Show Google Drive files","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_googledrive_files.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show Google Drive files — show_googledrive_files","text":"","code":"show_googledrive_files(d)"},{"path":"https://calcofi.io/calcofi4db/reference/show_googledrive_files.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show Google Drive files — show_googledrive_files","text":"d data object output read_csv_files()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_googledrive_files.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show Google Drive files — show_googledrive_files","text":"Data frame Google Drive files","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_tables_redefine.html","id":null,"dir":"Reference","previous_headings":"","what":"Show tables to redefine — show_tables_redefine","title":"Show tables to redefine — show_tables_redefine","text":"Show tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_tables_redefine.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Show tables to redefine — show_tables_redefine","text":"","code":"show_tables_redefine(d)"},{"path":"https://calcofi.io/calcofi4db/reference/show_tables_redefine.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Show tables to redefine — show_tables_redefine","text":"d data object output read_csv_files()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/show_tables_redefine.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Show tables to redefine — show_tables_redefine","text":"Data frame tables redefine","code":""},{"path":"https://calcofi.io/calcofi4db/reference/suggest_next_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Suggest Next Version — suggest_next_version","title":"Suggest Next Version — suggest_next_version","text":"Suggests next version based current version type change.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/suggest_next_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Suggest Next Version — suggest_next_version","text":"","code":"suggest_next_version(change_type = \"patch\")"},{"path":"https://calcofi.io/calcofi4db/reference/suggest_next_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Suggest Next Version — suggest_next_version","text":"change_type Type change: \"major\", \"minor\", \"patch\" (default: \"patch\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/suggest_next_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Suggest Next Version — suggest_next_version","text":"Character string suggested next version","code":""},{"path":"https://calcofi.io/calcofi4db/reference/suggest_next_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Suggest Next Version — suggest_next_version","text":"","code":"if (FALSE) { # \\dontrun{ suggest_next_version(\"minor\")  # If current is 1.0.0, suggests 1.1.0 suggest_next_version(\"major\")  # If current is 1.0.0, suggests 2.0.0 } # }"},{"path":"https://calcofi.io/calcofi4db/reference/transform_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform Data for Database Ingestion — transform_data","title":"Transform Data for Database Ingestion — transform_data","text":"Applies transformations raw data based redefinition files.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/transform_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform Data for Database Ingestion — transform_data","text":"","code":"transform_data(data_info)"},{"path":"https://calcofi.io/calcofi4db/reference/transform_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform Data for Database Ingestion — transform_data","text":"data_info List containing data metadata read_csv_files()","code":""},{"path":"https://calcofi.io/calcofi4db/reference/transform_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform Data for Database Ingestion — transform_data","text":"List transformed data ready database ingestion","code":""},{"path":"https://calcofi.io/calcofi4db/reference/transform_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform Data for Database Ingestion — transform_data","text":"","code":"if (FALSE) { # \\dontrun{ transformed_data <- transform_data(data_info) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Synchronized Version Management for Package and Database — update_package_version","title":"Synchronized Version Management for Package and Database — update_package_version","text":"functions manage synchronized versioning R package, database schema, NEWS.md file, git commits GitHub permalinks. Update Package Version NEWS","code":""},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Synchronized Version Management for Package and Database — update_package_version","text":"","code":"update_package_version(version, description, news_items = NULL)"},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Synchronized Version Management for Package and Database — update_package_version","text":"version New semantic version number (e.g., \"1.0.0\") description Description changes NEWS.md news_items Character vector bullet points NEWS.md (optional)","code":""},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Synchronized Version Management for Package and Database — update_package_version","text":"List updated version info","code":""},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Synchronized Version Management for Package and Database — update_package_version","text":"Updates package DESCRIPTION version prepends new entry NEWS.md. called committing recording schema version.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/update_package_version.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Synchronized Version Management for Package and Database — update_package_version","text":"","code":"if (FALSE) { # \\dontrun{ update_package_version(   version = \"1.0.0\",   description = \"Initial production release\",   news_items = c(     \"Complete NOAA CalCOFI Database ingestion\",     \"Add schema versioning system\",     \"Create master ingestion workflow\"   ) ) } # }"},{"path":"https://calcofi.io/calcofi4db/reference/upload_parquet.html","id":null,"dir":"Reference","previous_headings":"","what":"Upload Parquet file to GCS — upload_parquet","title":"Upload Parquet file to GCS — upload_parquet","text":"Convenience function upload Parquet file calcofi-db bucket.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/upload_parquet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Upload Parquet file to GCS — upload_parquet","text":"","code":"upload_parquet(local_path, gcs_path, bucket = \"calcofi-db\")"},{"path":"https://calcofi.io/calcofi4db/reference/upload_parquet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Upload Parquet file to GCS — upload_parquet","text":"local_path Path local Parquet file gcs_path Relative path calcofi-db bucket (e.g., \"parquet/bottle.parquet\") bucket GCS bucket name (default: \"calcofi-db\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/upload_parquet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Upload Parquet file to GCS — upload_parquet","text":"GCS URI uploaded file","code":""},{"path":"https://calcofi.io/calcofi4db/reference/upload_parquet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Upload Parquet file to GCS — upload_parquet","text":"","code":"if (FALSE) { # \\dontrun{ upload_parquet(\"local/bottle.parquet\", \"parquet/bottle.parquet\") } # }"},{"path":"https://calcofi.io/calcofi4db/reference/write_parquet_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Write data to Parquet format — write_parquet_table","title":"Write data to Parquet format — write_parquet_table","text":"Writes data frame Parquet, optionally partitioning.","code":""},{"path":"https://calcofi.io/calcofi4db/reference/write_parquet_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write data to Parquet format — write_parquet_table","text":"","code":"write_parquet_table(data, path, partitions = NULL, compression = \"snappy\")"},{"path":"https://calcofi.io/calcofi4db/reference/write_parquet_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write data to Parquet format — write_parquet_table","text":"data Data frame write path Output path Parquet file directory (partitioned) partitions Optional character vector columns partition compression Compression codec (default: \"snappy\")","code":""},{"path":"https://calcofi.io/calcofi4db/reference/write_parquet_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write data to Parquet format — write_parquet_table","text":"Path created Parquet file/directory","code":""},{"path":"https://calcofi.io/calcofi4db/reference/write_parquet_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write data to Parquet format — write_parquet_table","text":"","code":"if (FALSE) { # \\dontrun{ # simple write write_parquet_table(df, \"output/data.parquet\")  # partitioned by year and month write_parquet_table(   df,   \"output/data/\",   partitions = c(\"year\", \"month\")) } # }"},{"path":"https://calcofi.io/calcofi4db/news/index.html","id":"calcofi4db-120","dir":"Changelog","previous_headings":"","what":"calcofi4db 1.2.0","title":"calcofi4db 1.2.0","text":"Addition functions phase 1 cloud plan","code":""},{"path":"https://calcofi.io/calcofi4db/news/index.html","id":"calcofi4db-110","dir":"Changelog","previous_headings":"","what":"calcofi4db 1.1.0","title":"calcofi4db 1.1.0","text":"Addition CalCOFI Bottle Database","code":""},{"path":"https://calcofi.io/calcofi4db/news/index.html","id":"calcofi4db-100","dir":"Changelog","previous_headings":"","what":"calcofi4db 1.0.0","title":"calcofi4db 1.0.0","text":"Initial production release NOAA CalCOFI Database Complete NOAA CalCOFI Database ingestion spatial features Add synchronized versioning system package database Create master ingestion workflow integrity checks Implement comprehensive metadata management","code":""},{"path":"https://calcofi.io/calcofi4db/news/index.html","id":"calcofi4db-011","dir":"Changelog","previous_headings":"","what":"calcofi4db 0.1.1","title":"calcofi4db 0.1.1","text":"Add type mismatch checks fields CSV files. Add print_csv_change_stats() functions textual summary changes. Ensure compatibility multiple output formats: interactive DataTable, static kable, raw tibble. Expand documentation read_csv_files() detect_csv_changes().","code":""}]
