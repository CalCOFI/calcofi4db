% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/wrangle.R
\name{assign_sequential_ids}
\alias{assign_sequential_ids}
\title{Assign Sequential IDs with Deterministic Sort Order}
\usage{
assign_sequential_ids(con, table_name, id_col = NULL, sort_cols, start_id = 1)
}
\arguments{
\item{con}{DuckDB connection}

\item{table_name}{Name of table to assign IDs to}

\item{id_col}{Name of ID column to create (default: paste0(table_name, "_id"))}

\item{sort_cols}{Character vector of columns to sort by for ID assignment}

\item{start_id}{Starting ID value (default: 1)}
}
\value{
Invisibly returns the connection after adding ID column
}
\description{
Assigns sequential integer IDs to a table based on specified sort order.
This ensures reproducibility when appending new data - the same data
will always get the same IDs.
}
\examples{
\dontrun{
con <- get_duckdb_con()

# assign site_id sorted by cruise_key and orderocc
assign_sequential_ids(
  con        = con,
  table_name = "site",
  id_col     = "site_id",
  sort_cols  = c("cruise_key", "orderocc"))

# assign ichthyo_id with multi-column sort
assign_sequential_ids(
  con        = con,
  table_name = "ichthyo",
  id_col     = "ichthyo_id",
  sort_cols  = c("net_id", "species_id", "life_stage",
                 "measurement_type", "measurement_value"))
}
}
\concept{wrangle}
