% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/archive.R
\name{compare_local_vs_archive}
\alias{compare_local_vs_archive}
\title{Compare local files with GCS archive}
\usage{
compare_local_vs_archive(
  dir_csv,
  archive_timestamp,
  provider,
  dataset,
  gcs_bucket = "calcofi-files-public",
  archive_prefix = "archive"
)
}
\arguments{
\item{dir_csv}{Local directory containing CSV files}

\item{archive_timestamp}{Archive timestamp to compare against}

\item{provider}{Data provider}

\item{dataset}{Dataset name}

\item{gcs_bucket}{GCS bucket name}

\item{archive_prefix}{Archive folder prefix}
}
\value{
List with:
\itemize{
\item \code{matches}: Logical, TRUE if local matches archive
\item \code{local_manifest}: Tibble of local files
\item \code{archive_manifest}: Tibble of archive files
\item \code{added}: Files in local but not archive
\item \code{removed}: Files in archive but not local
\item \code{changed}: Files with different sizes
}
}
\description{
Compares local CSV files with a GCS archive to detect changes.
}
\examples{
\dontrun{
comparison <- compare_local_vs_archive(
  dir_csv = "/path/to/csv",
  archive_timestamp = "2026-02-02_121557",
  provider = "swfsc.noaa.gov",
  dataset = "calcofi-db")

if (!comparison$matches) {
  message("Local files have changed since archive")
}
}
}
\concept{archive}
