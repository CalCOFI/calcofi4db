% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/freeze.R
\name{freeze_release}
\alias{freeze_release}
\title{Freeze a release of the DuckLake}
\usage{
freeze_release(
  con,
  version,
  release_notes = NULL,
  validate = TRUE,
  tables = NULL,
  dry_run = FALSE,
  bucket = "calcofi-db"
)
}
\arguments{
\item{con}{DuckDB connection from \code{get_working_ducklake()}}

\item{version}{Version string in format "vYYYY.MM" (e.g., "v2026.02")}

\item{release_notes}{Character string with release notes, or path to markdown file}

\item{validate}{Run validation checks before freezing (default: TRUE)}

\item{tables}{Character vector of tables to include (default: all non-system tables)}

\item{dry_run}{If TRUE, simulate without uploading (default: FALSE)}

\item{bucket}{GCS bucket name (default: "calcofi-db")}
}
\value{
List with:
\itemize{
\item \code{version}: The version string
\item \code{gcs_path}: GCS path to release
\item \code{tables}: Tibble with table names and row counts
\item \code{parquet_files}: Paths to created Parquet files
}
}
\description{
Creates an immutable frozen release from the current Working DuckLake state.
Strips provenance columns, exports tables to Parquet, creates a catalog,
and uploads to \code{gs://calcofi-db/ducklake/releases/{version}/}.
}
\examples{
\dontrun{
con <- get_working_ducklake()
result <- freeze_release(
  con           = con,
  version       = "v2026.02",
  release_notes = "First release with bottle and larvae data.")
}
}
\concept{freeze}
