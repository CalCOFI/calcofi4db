% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/workflow.R
\name{write_ingest_outputs}
\alias{write_ingest_outputs}
\title{Write Ingest Workflow Outputs to GCS}
\usage{
write_ingest_outputs(
  data_info,
  provider,
  dataset,
  gcs_bucket = "calcofi-db",
  compression = "snappy"
)
}
\arguments{
\item{data_info}{Output from \code{read_csv_files()}}

\item{provider}{Data provider (e.g., "swfsc.noaa.gov")}

\item{dataset}{Dataset name (e.g., "calcofi-db")}

\item{gcs_bucket}{GCS bucket for ingest outputs (default: "calcofi-db")}

\item{compression}{Parquet compression method (default: "snappy")}
}
\value{
List with:
\itemize{
\item \code{gcs_base}: Base GCS path for this ingest
\item \code{parquet_paths}: Named list of GCS paths to parquet files
\item \code{manifest_path}: GCS path to manifest.json
\item \code{manifest}: The manifest data as a list
}
}
\description{
Transforms data and writes parquet files + manifest to GCS ingest folder.
Each ingest workflow produces parquet files for its tables and a manifest
tracking provenance back to the source archive.
}
\examples{
\dontrun{
d <- read_csv_files(
  provider     = "swfsc.noaa.gov",
  dataset      = "calcofi-db",
  metadata_dir = "metadata")

result <- write_ingest_outputs(
  data_info  = d,
  provider   = "swfsc.noaa.gov",
  dataset    = "calcofi-db")

# check manifest
result$manifest$tables
}
}
\concept{workflow}
