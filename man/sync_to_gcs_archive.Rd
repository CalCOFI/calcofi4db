% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/archive.R
\name{sync_to_gcs_archive}
\alias{sync_to_gcs_archive}
\title{Sync local files to GCS archive}
\usage{
sync_to_gcs_archive(
  dir_csv,
  provider,
  dataset,
  gcs_bucket = "calcofi-files-public",
  archive_prefix = "archive",
  force = FALSE
)
}
\arguments{
\item{dir_csv}{Local directory containing CSV files}

\item{provider}{Data provider}

\item{dataset}{Dataset name}

\item{gcs_bucket}{GCS bucket name}

\item{archive_prefix}{Archive folder prefix}

\item{force}{Force creation even if files match latest archive}
}
\value{
List with:
\itemize{
\item \code{archive_timestamp}: Timestamp of the archive used/created
\item \code{archive_path}: Full GCS path to archive
\item \code{created_new}: Logical, TRUE if new archive was created
\item \code{files_uploaded}: Number of files uploaded (0 if using existing)
}
}
\description{
Creates a new timestamped archive in GCS from local files.
Only creates a new archive if local files differ from the latest archive.
}
\examples{
\dontrun{
result <- sync_to_gcs_archive(
  dir_csv  = "/path/to/csv",
  provider = "swfsc.noaa.gov",
  dataset  = "calcofi-db")

message(glue("Using archive: {result$archive_timestamp}"))
}
}
\concept{archive}
